"""
Title: Ghost knight
Creators: Prem and Liam
Description:A knight killing the undead
"""
#Setup
info.set_life(3)
info.set_score(0)
info.change_score_by(5)
info.high_score()
#sprite
knight_facing_left = img("""
    ........................
    ..............ffff......
    .............f111fff....
    ...........ff1111111ff..
    ..........ff111111111ff.
    ..........f11111111111f.
    .........f1fffffff1111f.
    .........f511f11111555ff
    ..cc.....f111f11111111ff
    ..cdcc...f111f111111111f
    ..ccddcc..f11f11111111f.
    ....cdddcfff111111111f..
    .....ccdcddffffffffff...
    ......cccdd11f111111f...
    .........ffffffffffff...
    .............ff...fff...
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
""")
knight_facing_right = img("""
    ........................
    .......fff..............
    ....fffff1f.............
    ..ff1111111ff...........
    .ff111111111ff..........
    .f11111111111f..........
    .f1111fffffff1f.........
    ff555111111f15f.........
    ff111111111f11f.....cc..
    f1111111111f11f...ccdc..
    .f111111111f1f..ccddcc..
    ..f1fffffffffffcdddc....
    ...f1111111ffddcdcc.....
    ...f111111f11ddccc......
    ...ffffffffffff.........
    ...fff...ff.............
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
""") 
knight = sprites.create(knight_facing_right, SpriteKind.player)
knight.x = 40
knight.ay = 100
can_double_jump=True
#sprite controls
controller.player1.move_sprite(knight, 50, 0)
def on_jump ():
    if can_double_jump :
        can_double_jump = True
def jump():
    global can_double_jump
    if can_double_jump:
        knight.vy = -70
        can_double_jump = knight.is_hitting_tile(CollisionDirection.BOTTOM)
controller.A.on_event(ControllerButtonEvent.PRESSED, jump)
def on_update():
    global can_double_jump
    if knight.is_hitting_tile(CollisionDirection.BOTTOM):
        can_double_jump = True
    
    if knight.vx < 0:
        knight.set_image(knight_facing_left)
    elif knight.vx > 0:
        knight.set_image(knight_facing_right)
game.on_update(on_update)
#Background and tiles

scene.set_tile_map(img("""
    ................................................
    ................................................
    ................................................
    .............c..............c.............c.....
    .......................c................c.c....8
    ......c..cc......c..c.c.cc.....c......c.c.cc....
    .....c444444c...cc.c........c.c4cc...cc4c4c44c..
    ccccc4444444cc4c44c44c4c4cc44c44444c4c44444444cc
"""),)

scene.camera_follow_sprite(knight)
scene.set_background_image(img("""
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999911111119999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999111119991111199999999999999999999991111111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999911111111111111111119999999999999999999911111111111111119999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999111111111111111111119999999999999999999111111111111111111111999999999999999999999999999999999999999991111199999999999999999999999999999999999999
    9999999999999991111111111111111111119999999999999999999111111111111111111111119999999999999999999999999999999999999111111111999999999999999999999999999999999999
    9999999999999911111111111111111111119999999999999999999111111111111111111111111999999999999999999999999999999911111111111111199999999999999999999999999999999999
    9999999999999911111111111111111111119999999999999999999111111111111111111111111999999999999999999999999999991111111111111111119999999999999999999999999999999999
    9999999999999911111111111111111111119999999999999999999111111111111111111111111999999999999999999999999999991111111111111111119999999999999999999999999999999999
    9999999999999911111111111111111111119999999999999999999111111111111111111111111999999999999999999999999999911111111111111111119999999999999999999999999999999999
    9999999999999911111111111111111111119999999999999999999111111111111111111111111999999999999999999999999999111111111111111111111119999999999999999999999999999999
    9999999999999911111111111111111111169999999999999999999111111111111111111111111999999999999999999999999999111111111111111111111111199999999999999999999999999999
    9999999999999911111111111111111666669999999999999999999111111111111111111111111999999999999999999999999999111111111111111111111111119999999999999991111111999999
    9999999999999966666611111111666699999999999999999999999111111111111111111111116999999999999999999999999999111111111111111111111111119999999999991111111111111111
    9999999999999999999666666666699999999999999999999999999611111111111111111111116999999999999999999999999999111111111111111111111111119999999999911111111111111111
    9999999999999999999999999999999999999999999999999999999661111111111111111111166999999999111119999999999999111111111111111111111111119999999999111111111111111111
    9999999999999999999999999999999999999999999999999999999961111111111111166666666999999911111111111999999999111111111111111111111111119999999991111111111111111111
    9999999999999999999999999999999999999999999999999999999966666666666666669999999999991111111111111119999999111111111111111111111111119999999991111111111111111111
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111119999999111111111111111111111111119999999991111111111111111111
    9999999999999999999999999999999999999999999999999999999999999999999999999999999991111111111111111119999999111111111111111111111111119999999991111111111111111111
    9999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111119999999111111111111111111111111169999999991111111111111111111
    9999999999999999999999999999799999999999999999999999999999999999999999999999991111111111111111111119999999111111111166666111111116669999999991111111111111111111
    9999999999999999999999999997799999997999999999999999999999999999999999999999911111111111111111111119999999666666666666666666666666999999999991111111111111111111
    9999999999999999999999999997779999977999999999997999999999999999999999999999911111111111111111111119999999999999999999999999999999999999999996661111111111111111
    9999999999999999999999999977777999977999999999977799999999999999999999999999911111111111111111111119999999999999999999999999999999999999999999961111111111111111
    9999999999999999999999999777777799977999999999977799999999999999999999999999911111111111111111111119999999999999999999999999999999999999999999961111111111111666
    9999999999999999999999999797777999777999999999777779999999999999999999999999911111111111111111111169999999999999999999999999999999999999999999966666666666666669
    9999999999999999999999999977777999777799999999777777999999999999999999999999966666111111111111111169999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999777777799977999999999977779999999999999999999999999999996111111111111166669999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999977779779977799999997777779999999999999999999999999999996666666666666669999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999777777999777999999999777777999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999997797777799777799999997777797799999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999977777777777799999977777779999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999777777777777777777799777777999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999799999999997777777777777777777779977777799999999999999999999999999999999999999999999999999999999999999999999999999999999999999997999999999999999999
    9999999999997779999999999977777777777777777777777999999999999999999999999999999999999999999999999999999999999999999999999999999999999997999977999999999999999999
    9999999999997799999999997777777777777777777777777799999999999999999999999999999999997999999999999999999999999999999999999999999999999997799977999999999999999999
    9999999999977799999999977777777777777777777777777779999999999999999999999999999999997799999999999999999999999999999999999999999999999997799777999999999999999999
    9999999999777779999997777777777777777777777777777777999999999999999999999999999999997799999999999999999999999999999999999999999999799977779777779999999999999999
    9999999999977799999777777777777777777777777777777777799999999999999999999999999999977779999999999999999999999999999999999999999997779977779977999999999999999999
    9999999999997779997777777777777777777777777777777777779999999999999999999999999999977779999799999999999999999999999999999999999997779997799777777999999779999999
    9999999999777799777777777777777777777777777777777777777999999999999999999999779999997799999799999999999999999999999999999999999977779777777777999999999779999999
    9999999999977777777777777777777777777777777777777777777799999999999999999997779999777777999779999999999999999999999999999999999997777977779997799999997779999999
    9999999999997777777777777777777777777777777777777777777779999999999999999977779999977779999779999999999999999999999999999999999777779977777797999999997777999999
    9999999999997777777777777777777777777777777777777777777777999999999999999999777999977777997779999999999999799999999999999999999777777777779997999999997777999999
    9999999999977777777777777777777777777777777777777777777777999999999999999977777797777777797777999999999997799999999999999999999977777777777777777999977777799999
    9999999999777777777777777777777777777777777777777777777777799999999999999777777977777777779779999999999997779999999999999799999777779977777777777779977777799999
    9999999977777777777777777777777777777777777777777777777777779999999999999997777779977779999777999999999977777999999999999799997777777777777777777777997777799999
    9999999777777777777777777777777777777777777777777777777777777999999999999977777799777777997779999999999777777799999999999779999977777777777777777777777777999999
    9999997777777777777777777777777777777777777777777777777777777799999999999777777777777777777777779999999797777999999999999779999777777777777777777777777779999999
    9999977777777777777777777777777777777777777777777777777777777779999999999999777777777777777777777779999977777999999999997779999777777777777777777777777779999999
    9997777777777777777777777777777777777777777777777777777777777777999999999997777777777777777777777777799777777799999999999799997777777777777777777777777777999999
    9977777777777777777777777777777777777777777777777777777777777777799999999777777777777777777777777777777977779799999999997777997777777777777777777777777777779999
    9777777777777777777777777777777777777777777777777777777777777777777999997777777777777777777777777777777777777999999999999779977777777777777777777777777777777799
    7777777777777777777777777777777777777777777777777777777777777777777799977777777777777777777777777777777777777799999999977777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777799999999997777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777779999999999777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777999999977777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777779999777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
"""))
game.splash("press a to start")

game.splash("press a to jump")

def death ():
    info.change_life_by(-1)
scene.set_tile(12, img("""
    a a a c c a a a a a a c c a a a
    c c c c c c c c c c c c c c c c
    a a a a c a a c a c a a a a a c
    a a c a a a c a a a a c a c a a
    c c c c c c c c c c c c c c c c
    c a a a c a a a a c a a a a c a
    c c a a a a c a c a a c a a a a
    c c c c c c c c c c a a c a c c
    a c a a c a c a a c c c c c c c
    a a c a a a c a a c a c a a c a
    c c c c c c c c c c a a a c c c
    c a a a a a a a a a c c c a a c
    c c c c c c c c c c c c c c c c
    a a c c a a a a a a c c a a a a
    c c c c c c c c c c c c c c c c
    c c c c c c c c c c c c c c c c
"""), True)
scene.set_tile(3, img("""
    a a a c c a a a a a a c c a a a
    3 3 3 3 c 3 3 3 3 3 3 3 c 3 3 3
    3 3 3 3 a 3 3 3 3 3 3 3 a 3 3 3
    a a 3 3 a 3 3 3 3 3 3 3 a c a a
    c a a a a a 3 4 3 3 a a a a c c
    c 3 3 3 3 3 3 4 4 3 3 3 3 3 3 a
    c c 3 3 3 3 4 5 5 4 3 3 3 3 3 a
    c c c a 3 a 4 1 1 4 3 3 a a a c
    a a 3 3 3 3 c 4 4 4 3 3 3 3 a a
    a a a 3 3 3 a e e a 3 3 3 a a a
    c c c c 3 a a c c a a 3 a c c c
    c a a a a a a a a a a a a a a c
    c c c c c c c c c c c c c c c c
    a a c c a a a a a a c c a a a a
    c c c c c c c c c c c c c c c c
    c c c c c c c c c c c c c c c c
"""), True)
scene.set_tile(4, img("""
    5 4 4 5 5 4 4 4 4 2 2 2 4 4 4 4
    4 4 4 4 4 5 5 4 2 2 2 2 4 4 4 5
    4 2 2 2 4 4 5 4 2 2 4 4 5 5 5 5
    2 2 4 2 4 4 5 4 2 2 4 5 5 5 5 4
    2 2 2 2 4 4 5 4 2 2 4 4 5 5 4 4
    4 2 2 2 4 5 5 4 4 4 4 4 4 4 4 2
    2 2 2 4 4 5 5 5 4 4 2 2 2 2 2 2
    4 2 2 4 5 5 5 5 4 2 2 4 2 2 2 4
    5 4 4 4 4 4 4 5 5 4 2 2 2 4 4 4
    4 4 4 2 2 2 4 4 5 5 4 4 4 4 5 5
    4 2 2 2 2 2 2 2 4 5 5 5 5 5 5 5
    5 4 4 2 4 2 2 4 4 5 5 5 4 4 4 5
    5 5 4 2 2 2 4 4 4 5 5 4 2 2 2 4
    4 5 4 4 4 4 5 5 5 5 4 2 4 2 2 4
    4 5 5 5 5 5 5 4 4 4 2 4 2 4 2 4
    4 5 5 5 4 4 4 4 2 2 2 2 4 2 4 4
"""), True)
def on_hit_tile(sprite):
    sprite.set_position(sprite.x - 20, sprite.y - 20)
    scene.camera_shake()
    info.change_life_by(-1)
scene.on_hit_tile(SpriteKind.player, 4, on_hit_tile)

def on_overlap(sprite, otherSprite):
    sprite.say("ouch")
sprites.on_overlap(SpriteKind.player, SpriteKind.enemy, on_overlap)
